{"version":3,"sources":["lazysizes.js","picturefill.js","register_modal.js","slider.js","yandex-map.js"],"names":["window","factory","lazySizes","document","getElementsByClassName","lazysizes","lazySizesConfig","docElem","documentElement","Date","supportPicture","HTMLPictureElement","addEventListener","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","instance","initEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","src","reevaluate","elements","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","minSize","_lazysizesWidth","parentNode","rAF","firstFns","secondFns","fns","run","runFns","length","running","waiting","shift","rafBatch","queue","apply","this","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","debounce","func","timeout","timestamp","later","last","now","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazysizesConfig","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","lastTime","gDelay","rICTimeout","idleCallback","regImg","regIframe","supportScroll","navigator","userAgent","currentExpand","isLoading","lowRuns","resetPreloading","e","target","isNestedVisible","elemExpand","outerRect","visible","body","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","i","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","expand","clientHeight","clientWidth","_lazyRace","innerWidth","innerHeight","unveilElement","preloadAfterLoad","throttledCheckElements","isPriority","delay","switchLoadingClass","rafSwitchLoadingClass","rafedSwitchLoadingClass","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","call","getElementsByTagName","contentWindow","location","changeIframeSrc","complete","naturalWidth","autoSizer","updateElem","onload","afterScroll","_","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","sizeElement","sources","len","dataAttr","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","cfg","uP","aC","rC","hC","fire","gW","module","_typeof","exports","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","ua","match","$1","createElement","img","picture","toUpperCase","cloneNode","insertBefore","firstElementChild","removeChild","_pfLastSize","imgs","querySelectorAll","matchMedia","addListener","undefined","eminpx","alwaysCheckWDescriptor","evalId","isSupportTestReady","noop","image","getImgAttr","getAttribute","setImgAttr","removeImgAttr","removeAttribute","types","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","in","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","on","obj","capture","attachEvent","memoize","cache","input","isSpace","c","regLength","buildStr","image2","width1","isDomReady","wait","regReady","timerId","lastClientWidth","evalCSS","css","index","string","toLowerCase","parsedLength","Function","setResolution","candidate","sizesattr","w","cWidth","calcListLength","res","d","opt","plen","options","nodeType","context","qsa","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","a","b","getCandidateForSrc","set","candidates","parseSet","makeUrl","url","console","warn","implementation","hasFeature","ns","getTime","substr","supSrcset","supSizes","supPicture","onerror","u","setSize","href","matchesMedia","matches","media","mMQ","calcLength","sourceSizeValue","value","supportsType","type","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","exec","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","h","desc","lastChar","intVal","floatVal","pError","parseInt","parseFloat","has1x","tokenize","charAt","slice","parseSrcset","getEmValue","div","originalHTMLCSS","cssText","originalBodyCSS","appendChild","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","join","parseSizes","setRes","applySetCandidate","j","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","Math","pow","sqrt","setSrc","origWidth","getSet","parseSets","element","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","getAllSourceElements","supported","parsed","srcSetCandidates","matchingSet","evaluated","extreme","evaled","max","height","vw","vh","em","rem","fillImgs","define","amd","typeUri","Image","detectTypeSupport","showed","registerModal","querySelector","closeButton","onEsc","keyCode","closeModal","preventDefault","classList","remove","removeEventListener","showModal","button","slidesCount","slidesContainer","dots","intervalID","timerID","slider","currentSlide","showNextSlide","showSlide","slideNumber","transform","changeSlide","mannualChange","clearInterval","sliderElem","slidesElem","x","initSlider","yandexMap","ymaps","ready","myMap","Map","center","zoom","controls","myPlacemark","Placemark","getCenter","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","log"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesConfig.throttleDelay;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || (getCSS(elem.parentNode, 'visibility') != 'hidden' && getCSS(elem, 'visibility') != 'hidden');\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(!lazySizesConfig.expand || lazySizesConfig.expand < 1){\n\t\t\t\t\tdefaultExpand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t} else {\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t}\n\n\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function (window) {\n  /*jshint eqnull:true */\n  var ua = navigator.userAgent;\n\n  if (window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45)) {\n    addEventListener(\"resize\", (function () {\n      var timer;\n\n      var dummySrc = document.createElement(\"source\");\n\n      var fixRespimg = function (img) {\n        var source, sizes;\n        var picture = img.parentNode;\n\n        if (picture.nodeName.toUpperCase() === \"PICTURE\") {\n          source = dummySrc.cloneNode();\n\n          picture.insertBefore(source, picture.firstElementChild);\n          setTimeout(function () {\n            picture.removeChild(source);\n          });\n        } else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n          img._pfLastSize = img.offsetWidth;\n          sizes = img.sizes;\n          img.sizes += \",100vw\";\n          setTimeout(function () {\n            img.sizes = sizes;\n          });\n        }\n      };\n\n      var findPictureImgs = function () {\n        var i;\n        var imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n        for (i = 0; i < imgs.length; i++) {\n          fixRespimg(imgs[i]);\n        }\n      };\n      var onResize = function () {\n        clearTimeout(timer);\n        timer = setTimeout(findPictureImgs, 99);\n      };\n      var mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n      var init = function () {\n        onResize();\n\n        if (mq && mq.addListener) {\n          mq.addListener(onResize);\n        }\n      };\n\n      dummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (/^[c|i]|d$/.test(document.readyState || \"\")) {\n        init();\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", init);\n      }\n\n      return onResize;\n    })());\n  }\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function (window, document, undefined) {\n  // Enable strict mode\n  \"use strict\";\n\n  // HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n  document.createElement(\"picture\");\n\n  var warn, eminpx, alwaysCheckWDescriptor, evalId;\n  // local object for method references and testing exposure\n  var pf = {};\n  var isSupportTestReady = false;\n  var noop = function () {};\n  var image = document.createElement(\"img\");\n  var getImgAttr = image.getAttribute;\n  var setImgAttr = image.setAttribute;\n  var removeImgAttr = image.removeAttribute;\n  var docElem = document.documentElement;\n  var types = {};\n  var cfg = {\n    //resource selection:\n    algorithm: \"\"\n  };\n  var srcAttr = \"data-pfsrc\";\n  var srcsetAttr = srcAttr + \"set\";\n  // ua sniffing is done for undetectable img loading features,\n  // to do some non crucial perf optimizations\n  var ua = navigator.userAgent;\n  var supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35);\n  var curSrcProp = \"currentSrc\";\n  var regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n  var regSize = /(\\([^)]+\\))?\\s*(.+)/;\n  var setOptions = window.picturefillCFG;\n  /**\n   * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n   */\n  // baseStyle also used by getEmValue (i.e.: width: 1em is important)\n  var baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n  var fsCss = \"font-size:100%!important;\";\n  var isVwDirty = true;\n\n  var cssCache = {};\n  var sizeLengthCache = {};\n  var DPR = window.devicePixelRatio;\n  var units = {\n    px: 1,\n    \"in\": 96\n  };\n  var anchor = document.createElement(\"a\");\n  /**\n   * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n   * @type {boolean}\n   */\n  var alreadyRun = false;\n\n  // Reusable, non-\"g\" Regexes\n\n  // (Don't use \\s, to avoid matching non-breaking space.)\n  var regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n    regexTrailingCommas = /[,]+$/,\n    regexNonNegativeInteger = /^\\d+$/,\n\n    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n    // Must include at least one digit.\n    // According to spec tests any decimal point must be followed by a digit.\n    // No leading plus sign is allowed.)\n    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n  var on = function (obj, evt, fn, capture) {\n    if (obj.addEventListener) {\n      obj.addEventListener(evt, fn, capture || false);\n    } else if (obj.attachEvent) {\n      obj.attachEvent(\"on\" + evt, fn);\n    }\n  };\n\n  /**\n   * simple memoize function:\n   */\n\n  var memoize = function (fn) {\n    var cache = {};\n    return function (input) {\n      if (!(input in cache)) {\n        cache[input] = fn(input);\n      }\n      return cache[input];\n    };\n  };\n\n  // UTILITY FUNCTIONS\n\n  // Manual is faster than RegEx\n  // http://jsperf.com/whitespace-character/5\n  function isSpace(c) {\n    return (c === \"\\u0020\" || // space\n      c === \"\\u0009\" || // horizontal tab\n      c === \"\\u000A\" || // new line\n      c === \"\\u000C\" || // form feed\n      c === \"\\u000D\"); // carriage return\n  }\n\n  /**\n   * gets a mediaquery and returns a boolean or gets a css length and returns a number\n   * @param css mediaqueries or css length\n   * @returns {boolean|number}\n   *\n   * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n   */\n  var evalCSS = (function () {\n\n    var regLength = /^([\\d\\.]+)(em|vw|px)$/;\n    var replace = function () {\n      var args = arguments,\n        index = 0,\n        string = args[0];\n      while (++index in args) {\n        string = string.replace(args[index], args[++index]);\n      }\n      return string;\n    };\n\n    var buildStr = memoize(function (css) {\n\n      return \"return \" + replace((css || \"\").toLowerCase(),\n        // interpret `and`\n        /\\band\\b/g, \"&&\",\n\n        // interpret `,`\n        /,/g, \"||\",\n\n        // interpret `min-` as >=\n        /min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n        // interpret `max-` as <=\n        /max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n        //calc value\n        /calc([^)]+)/g, \"($1)\",\n\n        // interpret css values\n        /(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n        //make eval less evil\n        /^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n      ) + \";\";\n    });\n\n    return function (css, length) {\n      var parsedLength;\n      if (!(css in cssCache)) {\n        cssCache[css] = false;\n        if (length && (parsedLength = css.match(regLength))) {\n          cssCache[css] = parsedLength[1] * units[parsedLength[2]];\n        } else {\n          /*jshint evil:true */\n          try {\n            cssCache[css] = new Function(\"e\", buildStr(css))(units);\n          } catch (e) {}\n          /*jshint evil:false */\n        }\n      }\n      return cssCache[css];\n    };\n  })();\n\n  var setResolution = function (candidate, sizesattr) {\n    if (candidate.w) { // h = means height: || descriptor.type === 'h' do not handle yet...\n      candidate.cWidth = pf.calcListLength(sizesattr || \"100vw\");\n      candidate.res = candidate.w / candidate.cWidth;\n    } else {\n      candidate.res = candidate.d;\n    }\n    return candidate;\n  };\n\n  /**\n   *\n   * @param opt\n   */\n  var picturefill = function (opt) {\n\n    if (!isSupportTestReady) {\n      return;\n    }\n\n    var elements, i, plen;\n\n    var options = opt || {};\n\n    if (options.elements && options.elements.nodeType === 1) {\n      if (options.elements.nodeName.toUpperCase() === \"IMG\") {\n        options.elements = [options.elements];\n      } else {\n        options.context = options.elements;\n        options.elements = null;\n      }\n    }\n\n    elements = options.elements || pf.qsa((options.context || document), (options.reevaluate || options.reselect) ? pf.sel : pf.selShort);\n\n    if ((plen = elements.length)) {\n\n      pf.setupRun(options);\n      alreadyRun = true;\n\n      // Loop through all elements\n      for (i = 0; i < plen; i++) {\n        pf.fillImg(elements[i], options);\n      }\n\n      pf.teardownRun(options);\n    }\n  };\n\n  /**\n   * outputs a warning for the developer\n   * @param {message}\n   * @type {Function}\n   */\n  warn = (window.console && console.warn) ?\n    function (message) {\n      console.warn(message);\n    } :\n    noop;\n\n  if (!(curSrcProp in image)) {\n    curSrcProp = \"src\";\n  }\n\n  // Add support for standard mime types.\n  types[\"image/jpeg\"] = true;\n  types[\"image/gif\"] = true;\n  types[\"image/png\"] = true;\n\n  function detectTypeSupport(type, typeUri) {\n    // based on Modernizr's lossless img-webp test\n    // note: asynchronous\n    var image = new window.Image();\n    image.onerror = function () {\n      types[type] = false;\n      picturefill();\n    };\n    image.onload = function () {\n      types[type] = image.width === 1;\n      picturefill();\n    };\n    image.src = typeUri;\n    return \"pending\";\n  }\n\n  // test svg support\n  types[\"image/svg+xml\"] = document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\");\n\n  /**\n   * updates the internal vW property with the current viewport width in px\n   */\n  function updateMetrics() {\n\n    isVwDirty = false;\n    DPR = window.devicePixelRatio;\n    cssCache = {};\n    sizeLengthCache = {};\n\n    pf.DPR = DPR || 1;\n\n    units.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n    units.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n    units.vw = units.width / 100;\n    units.vh = units.height / 100;\n\n    evalId = [units.height, units.width, DPR].join(\"-\");\n\n    units.em = pf.getEmValue();\n    units.rem = units.em;\n  }\n\n  function chooseLowRes(lowerValue, higherValue, dprValue, isCached) {\n    var bonusFactor, tooMuch, bonus, meanDensity;\n\n    //experimental\n    if (cfg.algorithm === \"saveData\") {\n      if (lowerValue > 2.7) {\n        meanDensity = dprValue + 1;\n      } else {\n        tooMuch = higherValue - dprValue;\n        bonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n        bonus = tooMuch * bonusFactor;\n\n        if (isCached) {\n          bonus += 0.1 * bonusFactor;\n        }\n\n        meanDensity = lowerValue + bonus;\n      }\n    } else {\n      meanDensity = (dprValue > 1) ?\n        Math.sqrt(lowerValue * higherValue) :\n        lowerValue;\n    }\n\n    return meanDensity > dprValue;\n  }\n\n  function applyBestCandidate(img) {\n    var srcSetCandidates;\n    var matchingSet = pf.getSet(img);\n    var evaluated = false;\n    if (matchingSet !== \"pending\") {\n      evaluated = evalId;\n      if (matchingSet) {\n        srcSetCandidates = pf.setRes(matchingSet);\n        pf.applySetCandidate(srcSetCandidates, img);\n      }\n    }\n    img[pf.ns].evaled = evaluated;\n  }\n\n  function ascendingSort(a, b) {\n    return a.res - b.res;\n  }\n\n  function setSrcToCur(img, src, set) {\n    var candidate;\n    if (!set && src) {\n      set = img[pf.ns].sets;\n      set = set && set[set.length - 1];\n    }\n\n    candidate = getCandidateForSrc(src, set);\n\n    if (candidate) {\n      src = pf.makeUrl(src);\n      img[pf.ns].curSrc = src;\n      img[pf.ns].curCan = candidate;\n\n      if (!candidate.res) {\n        setResolution(candidate, candidate.set.sizes);\n      }\n    }\n    return candidate;\n  }\n\n  function getCandidateForSrc(src, set) {\n    var i, candidate, candidates;\n    if (src && set) {\n      candidates = pf.parseSet(set);\n      src = pf.makeUrl(src);\n      for (i = 0; i < candidates.length; i++) {\n        if (src === pf.makeUrl(candidates[i].url)) {\n          candidate = candidates[i];\n          break;\n        }\n      }\n    }\n    return candidate;\n  }\n\n  function getAllSourceElements(picture, candidates) {\n    var i, len, source, srcset;\n\n    // SPEC mismatch intended for size and perf:\n    // actually only source elements preceding the img should be used\n    // also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n    var sources = picture.getElementsByTagName(\"source\");\n\n    for (i = 0, len = sources.length; i < len; i++) {\n      source = sources[i];\n      source[pf.ns] = true;\n      srcset = source.getAttribute(\"srcset\");\n\n      // if source does not have a srcset attribute, skip\n      if (srcset) {\n        candidates.push({\n          srcset: srcset,\n          media: source.getAttribute(\"media\"),\n          type: source.getAttribute(\"type\"),\n          sizes: source.getAttribute(\"sizes\")\n        });\n      }\n    }\n  }\n\n  /**\n   * Srcset Parser\n   * By Alex Bell |  MIT License\n   *\n   * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n   *\n   * Based super duper closely on the reference algorithm at:\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n   */\n\n  // 1. Let input be the value passed to this algorithm.\n  // (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n  // descriptive & more searchable name.  Since passing the \"set\" in really has\n  // nothing to do with parsing proper, I would prefer this assignment eventually\n  // go in an external fn.)\n  function parseSrcset(input, set) {\n\n    function collectCharacters(regEx) {\n      var chars,\n        match = regEx.exec(input.substring(pos));\n      if (match) {\n        chars = match[0];\n        pos += chars.length;\n        return chars;\n      }\n    }\n\n    var inputLength = input.length,\n      url,\n      descriptors,\n      currentDescriptor,\n      state,\n      c,\n\n      // 2. Let position be a pointer into input, initially pointing at the start\n      //    of the string.\n      pos = 0,\n\n      // 3. Let candidates be an initially empty source set.\n      candidates = [];\n\n    /**\n     * Adds descriptor properties to a candidate, pushes to the candidates array\n     * @return undefined\n     */\n    // (Declared outside of the while loop so that it's only created once.\n    // (This fn is defined before it is used, in order to pass JSHINT.\n    // Unfortunately this breaks the sequencing of the spec comments. :/ )\n    function parseDescriptors() {\n\n      // 9. Descriptor parser: Let error be no.\n      var pError = false,\n\n        // 10. Let width be absent.\n        // 11. Let density be absent.\n        // 12. Let future-compat-h be absent. (We're implementing it now as h)\n        w, d, h, i,\n        candidate = {},\n        desc, lastChar, value, intVal, floatVal;\n\n      // 13. For each descriptor in descriptors, run the appropriate set of steps\n      // from the following list:\n      for (i = 0; i < descriptors.length; i++) {\n        desc = descriptors[i];\n\n        lastChar = desc[desc.length - 1];\n        value = desc.substring(0, desc.length - 1);\n        intVal = parseInt(value, 10);\n        floatVal = parseFloat(value);\n\n        // If the descriptor consists of a valid non-negative integer followed by\n        // a U+0077 LATIN SMALL LETTER W character\n        if (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n          // If width and density are not both absent, then let error be yes.\n          if (w || d) {\n            pError = true;\n          }\n\n          // Apply the rules for parsing non-negative integers to the descriptor.\n          // If the result is zero, let error be yes.\n          // Otherwise, let width be the result.\n          if (intVal === 0) {\n            pError = true;\n          } else {\n            w = intVal;\n          }\n\n          // If the descriptor consists of a valid floating-point number followed by\n          // a U+0078 LATIN SMALL LETTER X character\n        } else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n          // If width, density and future-compat-h are not all absent, then let error\n          // be yes.\n          if (w || d || h) {\n            pError = true;\n          }\n\n          // Apply the rules for parsing floating-point number values to the descriptor.\n          // If the result is less than zero, let error be yes. Otherwise, let density\n          // be the result.\n          if (floatVal < 0) {\n            pError = true;\n          } else {\n            d = floatVal;\n          }\n\n          // If the descriptor consists of a valid non-negative integer followed by\n          // a U+0068 LATIN SMALL LETTER H character\n        } else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n          // If height and density are not both absent, then let error be yes.\n          if (h || d) {\n            pError = true;\n          }\n\n          // Apply the rules for parsing non-negative integers to the descriptor.\n          // If the result is zero, let error be yes. Otherwise, let future-compat-h\n          // be the result.\n          if (intVal === 0) {\n            pError = true;\n          } else {\n            h = intVal;\n          }\n\n          // Anything else, Let error be yes.\n        } else {\n          pError = true;\n        }\n      } // (close step 13 for loop)\n\n      // 15. If error is still no, then append a new image source to candidates whose\n      // URL is url, associated with a width width if not absent and a pixel\n      // density density if not absent. Otherwise, there is a parse error.\n      if (!pError) {\n        candidate.url = url;\n\n        if (w) {\n          candidate.w = w;\n        }\n        if (d) {\n          candidate.d = d;\n        }\n        if (h) {\n          candidate.h = h;\n        }\n        if (!h && !d && !w) {\n          candidate.d = 1;\n        }\n        if (candidate.d === 1) {\n          set.has1x = true;\n        }\n        candidate.set = set;\n\n        candidates.push(candidate);\n      }\n    } // (close parseDescriptors fn)\n\n    /**\n     * Tokenizes descriptor properties prior to parsing\n     * Returns undefined.\n     * (Again, this fn is defined before it is used, in order to pass JSHINT.\n     * Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n     */\n    function tokenize() {\n\n      // 8.1. Descriptor tokeniser: Skip whitespace\n      collectCharacters(regexLeadingSpaces);\n\n      // 8.2. Let current descriptor be the empty string.\n      currentDescriptor = \"\";\n\n      // 8.3. Let state be in descriptor.\n      state = \"in descriptor\";\n\n      while (true) {\n\n        // 8.4. Let c be the character at position.\n        c = input.charAt(pos);\n\n        //  Do the following depending on the value of state.\n        //  For the purpose of this step, \"EOF\" is a special character representing\n        //  that position is past the end of input.\n\n        // In descriptor\n        if (state === \"in descriptor\") {\n          // Do the following, depending on the value of c:\n\n          // Space character\n          // If current descriptor is not empty, append current descriptor to\n          // descriptors and let current descriptor be the empty string.\n          // Set state to after descriptor.\n          if (isSpace(c)) {\n            if (currentDescriptor) {\n              descriptors.push(currentDescriptor);\n              currentDescriptor = \"\";\n              state = \"after descriptor\";\n            }\n\n            // U+002C COMMA (,)\n            // Advance position to the next character in input. If current descriptor\n            // is not empty, append current descriptor to descriptors. Jump to the step\n            // labeled descriptor parser.\n          } else if (c === \",\") {\n            pos += 1;\n            if (currentDescriptor) {\n              descriptors.push(currentDescriptor);\n            }\n            parseDescriptors();\n            return;\n\n            // U+0028 LEFT PARENTHESIS (()\n            // Append c to current descriptor. Set state to in parens.\n          } else if (c === \"\\u0028\") {\n            currentDescriptor = currentDescriptor + c;\n            state = \"in parens\";\n\n            // EOF\n            // If current descriptor is not empty, append current descriptor to\n            // descriptors. Jump to the step labeled descriptor parser.\n          } else if (c === \"\") {\n            if (currentDescriptor) {\n              descriptors.push(currentDescriptor);\n            }\n            parseDescriptors();\n            return;\n\n            // Anything else\n            // Append c to current descriptor.\n          } else {\n            currentDescriptor = currentDescriptor + c;\n          }\n          // (end \"in descriptor\"\n\n          // In parens\n        } else if (state === \"in parens\") {\n\n          // U+0029 RIGHT PARENTHESIS ())\n          // Append c to current descriptor. Set state to in descriptor.\n          if (c === \")\") {\n            currentDescriptor = currentDescriptor + c;\n            state = \"in descriptor\";\n\n            // EOF\n            // Append current descriptor to descriptors. Jump to the step labeled\n            // descriptor parser.\n          } else if (c === \"\") {\n            descriptors.push(currentDescriptor);\n            parseDescriptors();\n            return;\n\n            // Anything else\n            // Append c to current descriptor.\n          } else {\n            currentDescriptor = currentDescriptor + c;\n          }\n\n          // After descriptor\n        } else if (state === \"after descriptor\") {\n\n          // Do the following, depending on the value of c:\n          // Space character: Stay in this state.\n          if (isSpace(c)) {\n\n            // EOF: Jump to the step labeled descriptor parser.\n          } else if (c === \"\") {\n            parseDescriptors();\n            return;\n\n            // Anything else\n            // Set state to in descriptor. Set position to the previous character in input.\n          } else {\n            state = \"in descriptor\";\n            pos -= 1;\n\n          }\n        }\n\n        // Advance position to the next character in input.\n        pos += 1;\n\n        // Repeat this step.\n      } // (close while true loop)\n    }\n\n    // 4. Splitting loop: Collect a sequence of characters that are space\n    //    characters or U+002C COMMA characters. If any U+002C COMMA characters\n    //    were collected, that is a parse error.\n    while (true) {\n      collectCharacters(regexLeadingCommasOrSpaces);\n\n      // 5. If position is past the end of input, return candidates and abort these steps.\n      if (pos >= inputLength) {\n        return candidates; // (we're done, this is the sole return path)\n      }\n\n      // 6. Collect a sequence of characters that are not space characters,\n      //    and let that be url.\n      url = collectCharacters(regexLeadingNotSpaces);\n\n      // 7. Let descriptors be a new empty list.\n      descriptors = [];\n\n      // 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n      //\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n      //         more than one character, that is a parse error.\n      if (url.slice(-1) === \",\") {\n        url = url.replace(regexTrailingCommas, \"\");\n        // (Jump ahead to step 9 to skip tokenization and just push the candidate).\n        parseDescriptors();\n\n        //\tOtherwise, follow these substeps:\n      } else {\n        tokenize();\n      } // (close else of step 8)\n\n      // 16. Return to the step labeled splitting loop.\n    } // (Close of big while loop.)\n  }\n\n  /*\n   * Sizes Parser\n   *\n   * By Alex Bell |  MIT License\n   *\n   * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n   *\n   * Reference algorithm at:\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n   *\n   * Most comments are copied in directly from the spec\n   * (except for comments in parens).\n   *\n   * Grammar is:\n   * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n   * <source-size> = <media-condition> <source-size-value>\n   * <source-size-value> = <length>\n   * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n   *\n   * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n   * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n   *\n   * Returns the first valid <css-length> with a media condition that evaluates to true,\n   * or \"100vw\" if all valid media conditions evaluate to false.\n   *\n   */\n\n  function parseSizes(strValue) {\n\n    // (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n    // https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n    // CSS allows a single optional plus or minus sign:\n    // http://www.w3.org/TR/CSS2/syndata.html#numbers\n    // CSS is ASCII case-insensitive:\n    // http://www.w3.org/TR/CSS2/syndata.html#characters )\n    // Spec allows exponential notation for <number> type:\n    // http://dev.w3.org/csswg/css-values/#numbers\n    var regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n    // (This is a quick and lenient test. Because of optional unlimited-depth internal\n    // grouping parens and strict spacing rules, this could get very complicated.)\n    var regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n    var i;\n    var unparsedSizesList;\n    var unparsedSizesListLength;\n    var unparsedSize;\n    var lastComponentValue;\n    var size;\n\n    // UTILITY FUNCTIONS\n\n    //  (Toy CSS parser. The goals here are:\n    //  1) expansive test coverage without the weight of a full CSS parser.\n    //  2) Avoiding regex wherever convenient.\n    //  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n    //  Returns an array of arrays.)\n    function parseComponentValues(str) {\n      var chrctr;\n      var component = \"\";\n      var componentArray = [];\n      var listArray = [];\n      var parenDepth = 0;\n      var pos = 0;\n      var inComment = false;\n\n      function pushComponent() {\n        if (component) {\n          componentArray.push(component);\n          component = \"\";\n        }\n      }\n\n      function pushComponentArray() {\n        if (componentArray[0]) {\n          listArray.push(componentArray);\n          componentArray = [];\n        }\n      }\n\n      // (Loop forwards from the beginning of the string.)\n      while (true) {\n        chrctr = str.charAt(pos);\n\n        if (chrctr === \"\") { // ( End of string reached.)\n          pushComponent();\n          pushComponentArray();\n          return listArray;\n        } else if (inComment) {\n          if ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n            inComment = false;\n            pos += 2;\n            pushComponent();\n            continue;\n          } else {\n            pos += 1; // (Skip all characters inside comments.)\n            continue;\n          }\n        } else if (isSpace(chrctr)) {\n          // (If previous character in loop was also a space, or if\n          // at the beginning of the string, do not add space char to\n          // component.)\n          if ((str.charAt(pos - 1) && isSpace(str.charAt(pos - 1))) || !component) {\n            pos += 1;\n            continue;\n          } else if (parenDepth === 0) {\n            pushComponent();\n            pos += 1;\n            continue;\n          } else {\n            // (Replace any space character with a plain space for legibility.)\n            chrctr = \" \";\n          }\n        } else if (chrctr === \"(\") {\n          parenDepth += 1;\n        } else if (chrctr === \")\") {\n          parenDepth -= 1;\n        } else if (chrctr === \",\") {\n          pushComponent();\n          pushComponentArray();\n          pos += 1;\n          continue;\n        } else if ((chrctr === \"/\") && (str.charAt(pos + 1) === \"*\")) {\n          inComment = true;\n          pos += 2;\n          continue;\n        }\n\n        component = component + chrctr;\n        pos += 1;\n      }\n    }\n\n    function isValidNonNegativeSourceSizeValue(s) {\n      if (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {\n        return true;\n      }\n      if (regexCssCalc.test(s)) {\n        return true;\n      }\n      // ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n      // \"-0 is equivalent to 0 and is not a negative number.\" which means that\n      // unitless zero and unitless negative zero must be accepted as special cases.)\n      if ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {\n        return true;\n      }\n      return false;\n    }\n\n    // When asked to parse a sizes attribute from an element, parse a\n    // comma-separated list of component values from the value of the element's\n    // sizes attribute (or the empty string, if the attribute is absent), and let\n    // unparsed sizes list be the result.\n    // http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n    unparsedSizesList = parseComponentValues(strValue);\n    unparsedSizesListLength = unparsedSizesList.length;\n\n    // For each unparsed size in unparsed sizes list:\n    for (i = 0; i < unparsedSizesListLength; i++) {\n      unparsedSize = unparsedSizesList[i];\n\n      // 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n      // ( parseComponentValues() already omits spaces outside of parens. )\n\n      // If unparsed size is now empty, that is a parse error; continue to the next\n      // iteration of this algorithm.\n      // ( parseComponentValues() won't push an empty array. )\n\n      // 2. If the last component value in unparsed size is a valid non-negative\n      // <source-size-value>, let size be its value and remove the component value\n      // from unparsed size. Any CSS function other than the calc() function is\n      // invalid. Otherwise, there is a parse error; continue to the next iteration\n      // of this algorithm.\n      // http://dev.w3.org/csswg/css-syntax/#parse-component-value\n      lastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n      if (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n        size = lastComponentValue;\n        unparsedSize.pop();\n      } else {\n        continue;\n      }\n\n      // 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n      // size. If unparsed size is now empty, return size and exit this algorithm.\n      // If this was not the last item in unparsed sizes list, that is a parse error.\n      if (unparsedSize.length === 0) {\n        return size;\n      }\n\n      // 4. Parse the remaining component values in unparsed size as a\n      // <media-condition>. If it does not parse correctly, or it does parse\n      // correctly but the <media-condition> evaluates to false, continue to the\n      // next iteration of this algorithm.\n      // (Parsing all possible compound media conditions in JS is heavy, complicated,\n      // and the payoff is unclear. Is there ever an situation where the\n      // media condition parses incorrectly but still somehow evaluates to true?\n      // Can we just rely on the browser/polyfill to do it?)\n      unparsedSize = unparsedSize.join(\" \");\n      if (!(pf.matchesMedia(unparsedSize))) {\n        continue;\n      }\n\n      // 5. Return size and exit this algorithm.\n      return size;\n    }\n\n    // If the above algorithm exhausts unparsed sizes list without returning a\n    // size value, return 100vw.\n    return \"100vw\";\n  }\n\n  // namespace\n  pf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n  // srcset support test\n  pf.supSrcset = \"srcset\" in image;\n  pf.supSizes = \"sizes\" in image;\n  pf.supPicture = !!window.HTMLPictureElement;\n\n  // UC browser does claim to support srcset and picture, but not sizes,\n  // this extended test reveals the browser does support nothing\n  if (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n    (function (image2) {\n      image.srcset = \"data:,a\";\n      image2.src = \"data:,a\";\n      pf.supSrcset = image.complete === image2.complete;\n      pf.supPicture = pf.supSrcset && pf.supPicture;\n    })(document.createElement(\"img\"));\n  }\n\n  // Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n  if (pf.supSrcset && !pf.supSizes) {\n\n    (function () {\n      var width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n      var width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      var img = document.createElement(\"img\");\n      var test = function () {\n        var width = img.width;\n\n        if (width === 2) {\n          pf.supSizes = true;\n        }\n\n        alwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n        isSupportTestReady = true;\n        // force async\n        setTimeout(picturefill);\n      };\n\n      img.onload = test;\n      img.onerror = test;\n      img.setAttribute(\"sizes\", \"9px\");\n\n      img.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n      img.src = width1;\n    })();\n\n  } else {\n    isSupportTestReady = true;\n  }\n\n  // using pf.qsa instead of dom traversing does scale much better,\n  // especially on sites mixing responsive and non-responsive images\n  pf.selShort = \"picture>img,img[srcset]\";\n  pf.sel = pf.selShort;\n  pf.cfg = cfg;\n\n  /**\n   * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n   */\n  pf.DPR = (DPR || 1);\n  pf.u = units;\n\n  // container of supported mime types that one might need to qualify before using\n  pf.types = types;\n\n  pf.setSize = noop;\n\n  /**\n   * Gets a string and returns the absolute URL\n   * @param src\n   * @returns {String} absolute URL\n   */\n\n  pf.makeUrl = memoize(function (src) {\n    anchor.href = src;\n    return anchor.href;\n  });\n\n  /**\n   * Gets a DOM element or document and a selctor and returns the found matches\n   * Can be extended with jQuery/Sizzle for IE7 support\n   * @param context\n   * @param sel\n   * @returns {NodeList|Array}\n   */\n  pf.qsa = function (context, sel) {\n    return (\"querySelector\" in context) ? context.querySelectorAll(sel) : [];\n  };\n\n  /**\n   * Shortcut method for matchMedia ( for easy overriding in tests )\n   * wether native or pf.mMQ is used will be decided lazy on first call\n   * @returns {boolean}\n   */\n  pf.matchesMedia = function () {\n    if (window.matchMedia && (matchMedia(\"(min-width: 0.1em)\") || {}).matches) {\n      pf.matchesMedia = function (media) {\n        return !media || (matchMedia(media).matches);\n      };\n    } else {\n      pf.matchesMedia = pf.mMQ;\n    }\n\n    return pf.matchesMedia.apply(this, arguments);\n  };\n\n  /**\n   * A simplified matchMedia implementation for IE8 and IE9\n   * handles only min-width/max-width with px or em values\n   * @param media\n   * @returns {boolean}\n   */\n  pf.mMQ = function (media) {\n    return media ? evalCSS(media) : true;\n  };\n\n  /**\n   * Returns the calculated length in css pixel from the given sourceSizeValue\n   * http://dev.w3.org/csswg/css-values-3/#length-value\n   * intended Spec mismatches:\n   * * Does not check for invalid use of CSS functions\n   * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n   * @param sourceSizeValue\n   * @returns {Number}\n   */\n  pf.calcLength = function (sourceSizeValue) {\n\n    var value = evalCSS(sourceSizeValue, true) || false;\n    if (value < 0) {\n      value = false;\n    }\n\n    return value;\n  };\n\n  /**\n   * Takes a type string and checks if its supported\n   */\n\n  pf.supportsType = function (type) {\n    return (type) ? types[type] : true;\n  };\n\n  /**\n   * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n   * @param sourceSizeStr\n   * @returns {*}\n   */\n  pf.parseSize = memoize(function (sourceSizeStr) {\n    var match = (sourceSizeStr || \"\").match(regSize);\n    return {\n      media: match && match[1],\n      length: match && match[2]\n    };\n  });\n\n  pf.parseSet = function (set) {\n    if (!set.cands) {\n      set.cands = parseSrcset(set.srcset, set);\n    }\n    return set.cands;\n  };\n\n  /**\n   * returns 1em in css px for html/body default size\n   * function taken from respondjs\n   * @returns {*|number}\n   */\n  pf.getEmValue = function () {\n    var body;\n    if (!eminpx && (body = document.body)) {\n      var div = document.createElement(\"div\"),\n        originalHTMLCSS = docElem.style.cssText,\n        originalBodyCSS = body.style.cssText;\n\n      div.style.cssText = baseStyle;\n\n      // 1em in a media query is the value of the default font size of the browser\n      // reset docElem and body to ensure the correct value is returned\n      docElem.style.cssText = fsCss;\n      body.style.cssText = fsCss;\n\n      body.appendChild(div);\n      eminpx = div.offsetWidth;\n      body.removeChild(div);\n\n      //also update eminpx before returning\n      eminpx = parseFloat(eminpx, 10);\n\n      // restore the original values\n      docElem.style.cssText = originalHTMLCSS;\n      body.style.cssText = originalBodyCSS;\n\n    }\n    return eminpx || 16;\n  };\n\n  /**\n   * Takes a string of sizes and returns the width in pixels as a number\n   */\n  pf.calcListLength = function (sourceSizeListStr) {\n    // Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n    //\n    //                           or (min-width:30em) calc(30% - 15px)\n    if (!(sourceSizeListStr in sizeLengthCache) || cfg.uT) {\n      var winningLength = pf.calcLength(parseSizes(sourceSizeListStr));\n\n      sizeLengthCache[sourceSizeListStr] = !winningLength ? units.width : winningLength;\n    }\n\n    return sizeLengthCache[sourceSizeListStr];\n  };\n\n  /**\n   * Takes a candidate object with a srcset property in the form of url/\n   * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n   *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n   *     \"images/pic-small.png\"\n   * Get an array of image candidates in the form of\n   *      {url: \"/foo/bar.png\", resolution: 1}\n   * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n   * If sizes is specified, res is calculated\n   */\n  pf.setRes = function (set) {\n    var candidates;\n    if (set) {\n\n      candidates = pf.parseSet(set);\n\n      for (var i = 0, len = candidates.length; i < len; i++) {\n        setResolution(candidates[i], set.sizes);\n      }\n    }\n    return candidates;\n  };\n\n  pf.setRes.res = setResolution;\n\n  pf.applySetCandidate = function (candidates, img) {\n    if (!candidates.length) {\n      return;\n    }\n    var candidate,\n      i,\n      j,\n      length,\n      bestCandidate,\n      curSrc,\n      curCan,\n      candidateSrc,\n      abortCurSrc;\n\n    var imageData = img[pf.ns];\n    var dpr = pf.DPR;\n\n    curSrc = imageData.curSrc || img[curSrcProp];\n\n    curCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n    // if we have a current source, we might either become lazy or give this source some advantage\n    if (curCan && curCan.set === candidates[0].set) {\n\n      // if browser can abort image request and the image has a higher pixel density than needed\n      // and this image isn't downloaded yet, we skip next part and try to save bandwidth\n      abortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n      if (!abortCurSrc) {\n        curCan.cached = true;\n\n        // if current candidate is \"best\", \"better\" or \"okay\",\n        // set it to bestCandidate\n        if (curCan.res >= dpr) {\n          bestCandidate = curCan;\n        }\n      }\n    }\n\n    if (!bestCandidate) {\n\n      candidates.sort(ascendingSort);\n\n      length = candidates.length;\n      bestCandidate = candidates[length - 1];\n\n      for (i = 0; i < length; i++) {\n        candidate = candidates[i];\n        if (candidate.res >= dpr) {\n          j = i - 1;\n\n          // we have found the perfect candidate,\n          // but let's improve this a little bit with some assumptions ;-)\n          if (candidates[j] &&\n            (abortCurSrc || curSrc !== pf.makeUrl(candidate.url)) &&\n            chooseLowRes(candidates[j].res, candidate.res, dpr, candidates[j].cached)) {\n\n            bestCandidate = candidates[j];\n\n          } else {\n            bestCandidate = candidate;\n          }\n          break;\n        }\n      }\n    }\n\n    if (bestCandidate) {\n\n      candidateSrc = pf.makeUrl(bestCandidate.url);\n\n      imageData.curSrc = candidateSrc;\n      imageData.curCan = bestCandidate;\n\n      if (candidateSrc !== curSrc) {\n        pf.setSrc(img, bestCandidate);\n      }\n      pf.setSize(img);\n    }\n  };\n\n  pf.setSrc = function (img, bestCandidate) {\n    var origWidth;\n    img.src = bestCandidate.url;\n\n    // although this is a specific Safari issue, we don't want to take too much different code paths\n    if (bestCandidate.set.type === \"image/svg+xml\") {\n      origWidth = img.style.width;\n      img.style.width = (img.offsetWidth + 1) + \"px\";\n\n      // next line only should trigger a repaint\n      // if... is only done to trick dead code removal\n      if (img.offsetWidth + 1) {\n        img.style.width = origWidth;\n      }\n    }\n  };\n\n  pf.getSet = function (img) {\n    var i, set, supportsType;\n    var match = false;\n    var sets = img[pf.ns].sets;\n\n    for (i = 0; i < sets.length && !match; i++) {\n      set = sets[i];\n\n      if (!set.srcset || !pf.matchesMedia(set.media) || !(supportsType = pf.supportsType(set.type))) {\n        continue;\n      }\n\n      if (supportsType === \"pending\") {\n        set = supportsType;\n      }\n\n      match = set;\n      break;\n    }\n\n    return match;\n  };\n\n  pf.parseSets = function (element, parent, options) {\n    var srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n    var hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n    var imageData = element[pf.ns];\n\n    if (imageData.src === undefined || options.src) {\n      imageData.src = getImgAttr.call(element, \"src\");\n      if (imageData.src) {\n        setImgAttr.call(element, srcAttr, imageData.src);\n      } else {\n        removeImgAttr.call(element, srcAttr);\n      }\n    }\n\n    if (imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset) {\n      srcsetAttribute = getImgAttr.call(element, \"srcset\");\n      imageData.srcset = srcsetAttribute;\n      srcsetParsed = true;\n    }\n\n    imageData.sets = [];\n\n    if (hasPicture) {\n      imageData.pic = true;\n      getAllSourceElements(parent, imageData.sets);\n    }\n\n    if (imageData.srcset) {\n      imageSet = {\n        srcset: imageData.srcset,\n        sizes: getImgAttr.call(element, \"sizes\")\n      };\n\n      imageData.sets.push(imageSet);\n\n      isWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n      // add normal src as candidate, if source has no w descriptor\n      if (!isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x) {\n        imageSet.srcset += \", \" + imageData.src;\n        imageSet.cands.push({\n          url: imageData.src,\n          d: 1,\n          set: imageSet\n        });\n      }\n\n    } else if (imageData.src) {\n      imageData.sets.push({\n        srcset: imageData.src,\n        sizes: null\n      });\n    }\n\n    imageData.curCan = null;\n    imageData.curSrc = undefined;\n\n    // if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n    // or has a w descriptor (and does not support sizes) set support to false to evaluate\n    imageData.supported = !(hasPicture || (imageSet && !pf.supSrcset) || (isWDescripor && !pf.supSizes));\n\n    if (srcsetParsed && pf.supSrcset && !imageData.supported) {\n      if (srcsetAttribute) {\n        setImgAttr.call(element, srcsetAttr, srcsetAttribute);\n        element.srcset = \"\";\n      } else {\n        removeImgAttr.call(element, srcsetAttr);\n      }\n    }\n\n    if (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) || element.src !== pf.makeUrl(imageData.src))) {\n      if (imageData.src === null) {\n        element.removeAttribute(\"src\");\n      } else {\n        element.src = imageData.src;\n      }\n    }\n\n    imageData.parsed = true;\n  };\n\n  pf.fillImg = function (element, options) {\n    var imageData;\n    var extreme = options.reselect || options.reevaluate;\n\n    // expando for caching data on the img\n    if (!element[pf.ns]) {\n      element[pf.ns] = {};\n    }\n\n    imageData = element[pf.ns];\n\n    // if the element has already been evaluated, skip it\n    // unless `options.reevaluate` is set to true ( this, for example,\n    // is set to true when running `picturefill` on `resize` ).\n    if (!extreme && imageData.evaled === evalId) {\n      return;\n    }\n\n    if (!imageData.parsed || options.reevaluate) {\n      pf.parseSets(element, element.parentNode, options);\n    }\n\n    if (!imageData.supported) {\n      applyBestCandidate(element);\n    } else {\n      imageData.evaled = evalId;\n    }\n  };\n\n  pf.setupRun = function () {\n    if (!alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio)) {\n      updateMetrics();\n    }\n  };\n\n  // If picture is supported, well, that's awesome.\n  if (pf.supPicture) {\n    picturefill = noop;\n    pf.fillImg = noop;\n  } else {\n\n    // Set up picture polyfill by polling the document\n    (function () {\n      var isDomReady;\n      var regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n      var run = function () {\n        var readyState = document.readyState || \"\";\n\n        timerId = setTimeout(run, readyState === \"loading\" ? 200 : 999);\n        if (document.body) {\n          pf.fillImgs();\n          isDomReady = isDomReady || regReady.test(readyState);\n          if (isDomReady) {\n            clearTimeout(timerId);\n          }\n\n        }\n      };\n\n      var timerId = setTimeout(run, document.body ? 9 : 99);\n\n      // Also attach picturefill on resize and readystatechange\n      // http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n      var debounce = function (func, wait) {\n        var timeout, timestamp;\n        var later = function () {\n          var last = (new Date()) - timestamp;\n\n          if (last < wait) {\n            timeout = setTimeout(later, wait - last);\n          } else {\n            timeout = null;\n            func();\n          }\n        };\n\n        return function () {\n          timestamp = new Date();\n\n          if (!timeout) {\n            timeout = setTimeout(later, wait);\n          }\n        };\n      };\n      var lastClientWidth = docElem.clientHeight;\n      var onResize = function () {\n        isVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n        lastClientWidth = docElem.clientHeight;\n        if (isVwDirty) {\n          pf.fillImgs();\n        }\n      };\n\n      on(window, \"resize\", debounce(onResize, 99));\n      on(document, \"readystatechange\", run);\n    })();\n  }\n\n  pf.picturefill = picturefill;\n  //use this internally for easy monkey patching/performance testing\n  pf.fillImgs = picturefill;\n  pf.teardownRun = noop;\n\n  /* expose methods for testing */\n  picturefill._ = pf;\n\n  window.picturefillCFG = {\n    pf: pf,\n    push: function (args) {\n      var name = args.shift();\n      if (typeof pf[name] === \"function\") {\n        pf[name].apply(pf, args);\n      } else {\n        cfg[name] = args[0];\n        if (alreadyRun) {\n          pf.fillImgs({\n            reselect: true\n          });\n        }\n      }\n    }\n  };\n\n  while (setOptions && setOptions.length) {\n    window.picturefillCFG.push(setOptions.shift());\n  }\n\n  /* expose picturefill */\n  window.picturefill = picturefill;\n\n  /* expose picturefill */\n  if (typeof module === \"object\" && typeof module.exports === \"object\") {\n    // CommonJS, just export\n    module.exports = picturefill;\n  } else if (typeof define === \"function\" && define.amd) {\n    // AMD support\n    define(\"picturefill\", function () {\n      return picturefill;\n    });\n  }\n\n  // IE8 evals this sync, so it must be the last thing we do\n  if (!pf.supPicture) {\n    types[\"image/webp\"] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\");\n  }\n\n})(window, document);\n","'use strict';\n\n(function(){\n  var ESC_KEY = 27;\n  var openClass = 'modal--show';\n  var showed = false;\n\n  var registerModal = document.querySelector('.register');\n  var closeButton = registerModal.querySelector('.modal__close');\n\n  var onEsc = function (evt) {\n    if (evt.keyCode === ESC_KEY) {\n      closeModal();\n      evt.preventDefault();\n    }\n  }\n\n  var closeModal = function() {\n    registerModal.classList.remove(openClass);\n    window.removeEventListener(\"keydown\", onEsc);\n  }\n  closeButton.addEventListener('click', closeModal);\n\n  var showModal = function() {\n    window.addEventListener(\"keydown\", onEsc);\n    registerModal.classList.add(openClass);\n    showed = true;\n  }\n\n  setTimeout(function() {\n    if (!showed) showModal();\n  },15000);\n\n  var registerButtons = document.querySelectorAll('.price-card__link');\n\n  registerButtons.forEach( (button) => {\n    button.addEventListener('click', function (evt) {\n      showModal();\n      evt.preventDefault();\n    });\n  });\n\n\n})();\n","'use strict';\n\n(function(){\n  var slider = document.querySelector('.slider');\n  var slidesCount;\n  var currentSlide = 0;\n  var slidesContainer;\n  var dots;\n  var intervalID;\n  var timerID;\n\n  var showPrevSlide = function() {\n    currentSlide--;\n    if (currentSlide < 0) currentSlide = slidesCount - 1;\n    showSlide(currentSlide);\n  }\n\n  var showNextSlide = function() {\n    currentSlide++;\n    if (currentSlide > slidesCount - 1) currentSlide = 0;\n    showSlide(currentSlide);\n  }\n\n  var showSlide = function(slideNumber) {\n    var transform = 'translateX(-'+ slideNumber +'00%)';\n    if (slideNumber === 0) transform = 'translateX(0%)';\n    slidesContainer.style.transform = transform;\n\n    for(var i = 0; i < dots.length; i++) {\n      dots[i].classList.remove('slider__dot--active');\n      if (i === slideNumber) dots[i].classList.add('slider__dot--active');\n    }\n  }\n\n  var changeSlide = function() {\n    showNextSlide();\n  }\n\n  var mannualChange = function() {\n    if (intervalID) {\n      clearInterval(intervalID);\n      intervalID = 0;\n    }\n\n    if (timerID) {\n      clearTimeout(timerID);\n      timerID = 0;\n    }\n\n    timerID = window.setTimeout(() => {\n      intervalID = window.setInterval(changeSlide, 5000);\n    }, 10000);\n  }\n\n  var initSlider = function(sliderElem){\n    var slidesElem = sliderElem.querySelectorAll('.slider__slide');\n    slidesCount = slidesElem.length;\n    slidesContainer = sliderElem.querySelector('.slider__slides');\n\n    var prevButtonElem = sliderElem.querySelector('.slider__button--prev');\n    prevButtonElem.addEventListener('click', () => {\n      mannualChange();\n      showPrevSlide();\n    });\n\n    var nextButtonElem = sliderElem.querySelector('.slider__button--next');\n    nextButtonElem.addEventListener('click', () => {\n      mannualChange();\n      showNextSlide();\n    });\n\n    dots = sliderElem.querySelectorAll('.slider__dot');\n    for(var i = 0; i < dots.length; i++) {\n      dots[i].addEventListener('click',\n        (function(x) {\n          return function() {\n            mannualChange();\n            showSlide(x);\n          };\n        })(i)\n      );\n    }\n\n    intervalID = window.setInterval(changeSlide, 5000);\n  }\n\n  if (slider) initSlider(slider);\n})();\n","'use strict';\n\n(function(){\n\n  var yandexMap = document.querySelector(\"#yandex-map\");\n  if (yandexMap) {\n    try {\n      ymaps.ready(init);\n      function init(){\n          var myMap = new ymaps.Map(\"yandex-map\", {\n              center: [44.830304, 41.405822], //   .\n              zoom: 17, //   (0 - 19)\n              controls: []\n          });\n\n          var myPlacemark = new ymaps.Placemark(myMap.getCenter(), {\n            hintContent: '',\n            balloonContent: ', . , .  10'\n          }, {\n            iconLayout: 'default#image', //  .\n            iconImageHref: 'img/map-pin.svg', //   \n            iconImageSize: [24, 35], //  .\n            iconImageOffset: [-12, -35] //      \n          });\n\n          myMap.geoObjects.add(myPlacemark);\n      }\n\n      yandexMap.classList.remove(\"contacts__map--nojs\");\n    } catch (e) {\n      console.log(\"   \");\n    }\n  }\n})();\n\n"]}